<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Solicitud de Viaje</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    h2, h3 {
      text-align: center;
    }
    input, select, button {
      display: block;
      margin: 10px 0;
      padding: 10px;
      width: 100%;
      font-size: 16px;
    }
    .error {
      color: red;
      font-weight: bold;
    }
    .conductores {
      background-color: #f2f2f2;
      padding: 15px;
      margin-bottom: 25px;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
    .conductores p {
      margin: 5px 0;
      font-size: 18px;
    }
  </style>
</head>
<body>

<h2>Conductores Disponibles</h2>
<div class="conductores">
  <p><strong>🚘 Carlos Soto</strong> - Zona Norte</p>
  <p><strong>🚘 Lucía Herrera</strong> - Zona Centro</p>
</div>

<h3>Formulario de Solicitud de Viaje</h3>

<form id="formularioViaje">
  <label for="rut">RUT (sin puntos ni guion):</label>
  <input type="text" id="rut" name="rut" required />

  <label for="clave">Clave Personal:</label>
  <input type="password" id="clave" name="clave" required />

  <div class="error" id="errorMensaje"></div>

  <label for="nombre">Nombre del pasajero:</label>
  <input type="text" id="nombre" name="nombre" readonly />

  <label for="origen">Origen del viaje:</label>
  <input type="text" id="origen" name="origen" required />

  <label for="destino">Destino del viaje:</label>
  <input type="text" id="destino" name="destino" required />

  <label for="fecha">Fecha del viaje:</label>
  <input type="date" id="fecha" name="fecha" required />

  <label for="hora">Hora del viaje (formato 24 hrs):</label>
  <input type="time" id="hora" name="hora" required />

  <label for="conductor">Selecciona tu conductor:</label>
  <select id="conductor" name="conductor" required>
    <option value="">-- Elige un conductor --</option>
    <option value="Carlos Soto">Carlos Soto</option>
    <option value="Lucía Herrera">Lucía Herrera</option>
  </select>

  <button type="submit">Solicitar Viaje</button>
</form>

<script>
  // Pasajeros registrados (RUT sin puntos ni guion)
  const pasajeros = {
    "123456789": { nombre: "María López", clave: "Clave123" },
    "987654321": { nombre: "Carlos Pérez", clave: "Clave456" },
    "111222333": { nombre: "Ana Torres", clave: "Clave789" }
  };

  const rutInput = document.getElementById("rut");
  const claveInput = document.getElementById("clave");
  const nombreInput = document.getElementById("nombre");
  const errorMensaje = document.getElementById("errorMensaje");

  function validarPasajero() {
    const rut = rutInput.value.trim();
    const clave = claveInput.value.trim();
    if (rut in pasajeros && pasajeros[rut].clave === clave) {
      nombreInput.value = pasajeros[rut].nombre;
      errorMensaje.textContent = "";
      return true;
    } else {
      nombreInput.value = "";
      errorMensaje.textContent = "RUT o Clave Personal incorrecta.";
      return false;
    }
  }

  rutInput.addEventListener("blur", () => {
    if (claveInput.value) validarPasajero();
  });

  claveInput.addEventListener("input", () => {
    validarPasajero();
  });

  document.getElementById("formularioViaje").addEventListener("submit", function (e) {
    e.preventDefault();

    if (!validarPasajero()) {
      alert("Verifica el RUT y la Clave Personal antes de continuar.");
      return;
    }

    const mensaje = `
🚖 Nueva solicitud de viaje
📌 Nombre del pasajero: ${nombreInput.value}
🆔 RUT: ${rutInput.value}
📍 Origen: ${document.getElementById("origen").value}
📍 Destino: ${document.getElementById("destino").value}
📅 Fecha: ${document.getElementById("fecha").value}
🕒 Hora: ${document.getElementById("hora").value}
👨‍✈️ Conductor elegido: ${document.getElementById("conductor").value}
    `.trim();

    alert("Mensaje para el conductor:\n\n" + mensaje);
  });
</script>

</body>
</html>
